(()=>{"use strict";var n=function(){function n(n){this.Gr=n}return n.prototype.Du=function(n){return!!this.Gr.Uu().filter((function(t){return n(t)})).length},n.prototype.Lu=function(n,t,i){t.Ru||this.Du(n.Fu)&&(t.Go=new n(this.Gr,i),t.Go.Vu(),t.Ru=!0)},n}(),t=function(){function n(n){this.Gr=n,this.Xo=this.Gr.Bu&&this.Gr.Bu()}return n.Fu=function(n){return!0},n.prototype.send=function(n,t){this.Gr.send(n,t||{})},n}(),i=function(){return i=Object.assign||function(n){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},i.apply(this,arguments)},r=function(){function n(n){this.qu=null,this.zu=null,this.data=this.Ne(n)}return n.prototype.Ju=function(){return this.Hu},n.prototype.Fn=function(n){switch(n){case 0:return this.Gu;case 1:return this.Xu}return null},n.prototype.$u=function(){return this.zu},n.prototype.getData=function(n){var t=i(i({rn:this.Hu,Tt:null},this.Ku),this.data);switch(n){case 0:t.Tt=this.Gu;break;case 1:t.Tt=this.Xu,t=i(i({},t),this.qu)}return t},n.prototype.Yu=function(n){this.Ku=n},n}(),o=function(n){var t=typeof n;return"object"===t&&null!==n||"function"===t},u=function(n){return Array.isArray(n)};var e,c,s,f,a=(e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},e(n,t)},function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),h=function(){return h=Object.assign||function(n){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},h.apply(this,arguments)},l=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.Hu="ec",t.Gu="ec",t.zu="xhr",t}return a(t,n),t.prototype.Ne=function(n){var t=n.Kt,i={Kt:t};return this.pl(t),this.dl(t),i},t.prototype.pl=function(n){var t="ec";for(var i in n)if("currencyCode"!==i){t=i;break}this.Xu=t},t.prototype.dl=function(n){var t={};Object.keys(n).forEach((function(i){var r=n[i];"currencyCode"!==i?"impressions"!==i?("promoView"!==i&&"promoClick"!==i||(t=h(h({},t),{actionField:i})),o(r)&&Object.keys(r).forEach((function(n){var i;switch(n){case"actionField":case"products":case"promotions":t=h(h({},t),((i={})[n]=r[n],i))}}))):t=h(h({},t),{products:r}):t=h(h({},t),{currencyCode:r})})),this.qu={Kt:t}},t}(r),v=function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),w=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return v(t,n),t.prototype.Vu=function(n){var t=this,i=n.ph;if(i){var r=i.push;this.jl(i),i.push=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return t.jl([].slice.call(n,0)),r.apply(i,n),i.length+1}}},t.prototype.jl=function(n){var t=this;n.forEach((function(n){var i=n.ecommerce;if(i){var r=new l({Kt:i});t.send(r,{Sc:!0})}}))},t}(t),b=function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),p=function(n){function t(t,i){var r=n.call(this,t)||this;return r.xe={Kt:{Ru:!1,Go:null}},r.dh=i,r}return b(t,n),t.prototype.bc=function(){var n=this.xe.Kt;n.Ru||(n.Go=new w(this.Gr),n.Go.Vu({ph:this.dh.Ol()}),n.Ru=!0)},t}(n),y=function(n){this.Gr=n,this.Xo=n.Bu()},d="module_init",j=function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),O=function(n){function t(t,i){var r=n.call(this,t)||this;return r._l(i),r.Va=new p(t,r),r.Va.bc(),r}return j(t,n),t.prototype.Ol=function(){return this.ph},t.prototype._l=function(n){var t="dataLayer";if(this.ml(n),!this.ph){"string"==typeof n&&(t=n),window[t]=window[t]||[];var i=window[t];this.ml(i),this.ph||(this.ph=null)}},t.prototype.ml=function(n){u(n)?this.ph=n:o(n)&&(this.ph=[n])},t}(y);c="ecommerce",s=O,(f=window._top100?window._top100.getListeners():null)&&f.publish(d,c,s)})();